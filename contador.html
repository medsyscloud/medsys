<!DOCTYPE html>
<html>
<head>
    <title>Contador de botón</title>
</head>
<body>
    <h1>Contador de botón</h1>
    <p>Número de veces que se ha presionado el botón: <span id="contador"></span></p>
    <button id="boton" onclick="incrementarContador()">Presiona aquí</button>

    <script>
        // Obtiene el valor actual del contador desde localStorage, o inicializa en cero si no existe
        var contador = localStorage.getItem('contador') || 0;

        // Muestra el valor del contador en la página
        document.getElementById('contador').textContent = contador;

        function incrementarContador() {
            // Incrementa el contador
            contador++;

            // Actualiza el valor del contador en localStorage
            localStorage.setItem('contador', contador);

            // Muestra el valor del contador en la página
            document.getElementById('contador').textContent = contador;
        }

        function guardarContador() {
            // Crea un objeto Blob con el contenido del contador
            var contenido = "El número de veces que se ha presionado el botón es: " + contador;
            var archivo = new Blob([contenido], {type: 'text/plain'});

            // Crea una URL del archivo creado
            var urlArchivo = URL.createObjectURL(archivo);

            // Crea un elemento <a> para descargar el archivo generado
            var linkDescarga = document.createElement("a");
            linkDescarga.href = urlArchivo;
            linkDescarga.download = "contador.txt";

            // Agrega el elemento <a> al documento y simula un clic para descargar el archivo
            document.body.appendChild(linkDescarga);
            linkDescarga.click();

            // Elimina el elemento <a> y la URL creada
            document.body.removeChild(linkDescarga);
            URL.revokeObjectURL(urlArchivo);
        }
    </script>

    <button onclick="guardarContador()">Guardar en archivo</button>
</body>
</html>
