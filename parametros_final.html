<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Verificación de Usuario</title>
</head>
  <body style="background: red">
    <!-- <h1 id="resultado">Cargando...</h1> -->
    <script>
      function obtenerParametro(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
      }

      function verificarUsuario() {
        const nombre = obtenerParametro("nombre");

        const xhr = new XMLHttpRequest();
        xhr.open("GET", "usuarios.txt", true);
        xhr.onreadystatechange = function() {
          if (xhr.readyState === 4 && xhr.status === 200) {
            const usuarios = xhr.responseText;

            const usuariosArray = usuarios.replace(/\r/g, '').trim().split("\n");

            if (usuariosArray.includes(nombre)) {
              document.getElementById("resultado").innerText = "Usuario sí existe";
            } else {
              window.location.href = "https://www.google.com";
            }
          }
        };
        xhr.send();
      }

      verificarUsuario();
    </script>
    <iframe src="https://www.medsyscloud.com/iamedsyscloud.html">
      Your browser does not support the iFrame html elements.
    </iframe>
  </body>
</html>